<div class="container-fluid kcontent row">
  <div class="col-md-2 kcontent bg-secondary text-light">
    <!-- ko if : userService.boardService() != null && userService.boardService().board() == null-->
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header bg-secondary">
          <h5 class="modal-title">Create new Board</h5>
        </div>
        <div class="modal-body bg-secondary">
          <div class="form-label-group">
            <input data-bind="value:boardName" type="text" id="boardName" class="form-control" placeholder="Board name" required autofocus>
          </div>     
        </div>
        <div class="modal-footer bg-secondary">
            <button data-bind="click:createBoard" type="button" class="btn btn-primary">Create</button>
        </div>
      </div>
    </div>
    <!-- /ko-->
    <!-- ko if : ((userService.boardService() != null) && (userService.boardService().board() != null)) -->
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header bg-secondary">
          <h5 class="modal-title" data-bind="text: 'Active Board : ' + userService.boardService().board().name" ></h5>
        </div>
        <!-- ko if : (userService.boardService().board().manager.id != userService.currentUser().id) -->
        <div class="modal-body bg-secondary">
          <div class="form-label-group">
            <label data-bind="text:boardStatus[userService.boardService().board().status]"></label>
          </div>
        </div>
        <!-- /ko-->
        <!-- ko if : (userService.boardService().board().manager.id == userService.currentUser().id) -->
        <div class="modal-body bg-secondary">
            <button type="button" class="btn btn-primary btn-sm" data-bind="text:btnStatusDescr(), disable:btnStatusDisabled(), click:btnStatusChng" >Small button</button>
        </div>
        <!-- /ko-->
      </div>
    </div>
    <!-- /ko--> 
    <board-config></board-config>
    <div class="modal-dialog bg-secondary" role="document">
      <div class="modal-content bg-secondary">
        <div class="modal-header">
          <h5 class="modal-title">Online Users</h5>
        </div>
        <div class="modal-body">
          <!-- ko if : userService.boardService() != null -->
          <ul data-bind="foreach:userService.boardService().connectedUsers">
            <li data-bind="text: $parent.userService.getUserName($data)"></li>
          </ul>
          <!-- /ko-->
        </div>
      </div>  
    </div>
    <div class="modal-dialog bg-secondary" role="document">
      <div class="modal-content bg-secondary">
        <div class="modal-header">
          <h5 class="modal-title">Messages</h5>
        </div>
        <div class="modal-body">
          <!-- ko if : userService.boardService() != null -->
          <ul data-bind="foreach:userService.boardService().serviceMessages">
            <li data-bind="text: $data.message"></li>
          </ul>
          <!-- /ko-->
        </div>
      </div>  
    </div>
  </div>
  <div class="col-md-10 kcontent">
  <!-- ko if : userService.boardService() != null && 
               userService.boardService().board() != null && 
               (userService.boardService().board().status == boardStatus.WhatWorksOpened || 
                userService.boardService().board().status == boardStatus.WhatWorksClosed || 
                userService.boardService().board().status == boardStatus.WhatDoesntOpened ||
                userService.boardService().board().status == boardStatus.WhatDoesntClosed) -->
    <div class="kheader" data-bind="text:boardStatus[userService.boardService().board().status]"></div>
    <div class="container-fluid body-content" style="top:30px;">
      <div class="row">
        <div class="col-md-2">
          <div class="card" data-bind="foreach:personalCards">
              <retro-card params="card:$data"></retro-card>
            </div>
        </div>
        <div class="col-md-2"  data-bind="foreach:othersCards1">
            <retro-card params="card:$data"></retro-card>
        </div>
        <div class="col-md-2"  data-bind="foreach:othersCards2">
            <retro-card params="card:$data"></retro-card>
        </div>
        <div class="col-md-2"  data-bind="foreach:othersCards3">
            <retro-card params="card:$data"></retro-card>
        </div>
        <div class="col-md-2"  data-bind="foreach:othersCards4">
            <retro-card params="card:$data"></retro-card>
        </div>
        <div class="col-md-2"  data-bind="foreach:othersCards5">
            <retro-card params="card:$data"></retro-card>
        </div>
      </div>
    </div>
    <div class="kfooter fixed container-fluid-inline">
      <textarea style="height: 90%; width:100%" data-bind="event:{keydown:checkEnter}, disabled: (userService.boardService().board().status != boardStatus.WhatDoesntOpened && userService.boardService().board().status != boardStatus.WhatWorksOpened)"></textarea>
    </div>
  <!--/ko-->
  </div>
</div>
